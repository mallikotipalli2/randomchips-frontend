import{S as R,i as Z,s as J,z as H,d as u,g as s,f as S,e as i,A as B,n as g,B as T,t as q,b as M,E as he,h as ve,k as I,j as _,u as D,q as p,D as ce,w as me,F as ge,a as K,C as Q,m as X,l as Y,o as ee,p as N,x as F,v as te,y as P,G as _e}from"../chunks/D-id4_UX.js";import{g as pe,L as xe}from"../chunks/XHkGl_XW.js";import"../chunks/IHki7fMi.js";import{g as W}from"../chunks/CuMgko4Z.js";import{m as ye,i as be,c as ue,j as ke,a as Ce,d as we,b as Ee}from"../chunks/DsuHmXpT.js";function Ie(o){let e,n,r,l;return{c(){e=T("svg"),n=T("path"),r=T("line"),l=T("line"),this.h()},l(t){e=B(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var a=g(e);n=B(a,"path",{d:!0}),g(n).forEach(u),r=B(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),g(r).forEach(u),l=B(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),g(l).forEach(u),a.forEach(u),this.h()},h(){s(n,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),s(r,"x1","12"),s(r,"y1","9"),s(r,"x2","12"),s(r,"y2","13"),s(l,"x1","12"),s(l,"y1","17"),s(l,"x2","12.01"),s(l,"y2","17"),s(e,"width",o[0]),s(e,"height",o[0]),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"stroke",o[1]),s(e,"stroke-width","2")},m(t,a){S(t,e,a),i(e,n),i(e,r),i(e,l)},p(t,[a]){a&1&&s(e,"width",t[0]),a&1&&s(e,"height",t[0]),a&2&&s(e,"stroke",t[1])},i:H,o:H,d(t){t&&u(e)}}}function De(o,e,n){let{size:r=20}=e,{color:l="currentColor"}=e;return o.$$set=t=>{"size"in t&&n(0,r=t.size),"color"in t&&n(1,l=t.color)},[r,l]}class ze extends R{constructor(e){super(),Z(this,e,De,Ie,J,{size:0,color:1})}}function Ve(o){let e,n,r,l;return{c(){e=T("svg"),n=T("circle"),r=T("line"),l=T("line"),this.h()},l(t){e=B(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var a=g(e);n=B(a,"circle",{cx:!0,cy:!0,r:!0}),g(n).forEach(u),r=B(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),g(r).forEach(u),l=B(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),g(l).forEach(u),a.forEach(u),this.h()},h(){s(n,"cx","12"),s(n,"cy","12"),s(n,"r","10"),s(r,"x1","15"),s(r,"y1","9"),s(r,"x2","9"),s(r,"y2","15"),s(l,"x1","9"),s(l,"y1","9"),s(l,"x2","15"),s(l,"y2","15"),s(e,"width",o[0]),s(e,"height",o[0]),s(e,"viewBox","0 0 24 24"),s(e,"fill","none"),s(e,"stroke",o[1]),s(e,"stroke-width","2")},m(t,a){S(t,e,a),i(e,n),i(e,r),i(e,l)},p(t,[a]){a&1&&s(e,"width",t[0]),a&1&&s(e,"height",t[0]),a&2&&s(e,"stroke",t[1])},i:H,o:H,d(t){t&&u(e)}}}function Se(o,e,n){let{size:r=20}=e,{color:l="currentColor"}=e;return o.$$set=t=>{"size"in t&&n(0,r=t.size),"color"in t&&n(1,l=t.color)},[r,l]}class $e extends R{constructor(e){super(),Z(this,e,Se,Ve,J,{size:0,color:1})}}const{document:fe}=pe;function Be(o){let e,n,r,l,t,a,x="Finding you a chat partner...",d,m,f,c,y,b,w,z=de(o[0])+"",v,h,E,j,$,ne="Cancel",A,G,re;r=new xe({props:{size:64,color:"#10b981",class:"animate-spin"}});function se(k,C){return k[3]?je:Ae}let O=se(o),V=O(o);return{c(){e=p("div"),n=p("div"),te(r.$$.fragment),l=D(),t=p("div"),a=p("h2"),a.textContent=x,d=D(),m=p("p"),f=P("Connecting as "),c=p("span"),y=P(o[1]),b=D(),w=p("div"),v=P(z),h=D(),E=p("div"),V.c(),j=D(),$=p("button"),$.textContent=ne,this.h()},l(k){e=_(k,"DIV",{class:!0});var C=g(e);n=_(C,"DIV",{class:!0});var le=g(n);ee(r.$$.fragment,le),le.forEach(u),l=I(C),t=_(C,"DIV",{class:!0});var U=g(t);a=_(U,"H2",{class:!0,"data-svelte-h":!0}),N(a)!=="svelte-ixpn2b"&&(a.textContent=x),d=I(U),m=_(U,"P",{class:!0});var L=g(m);f=F(L,"Connecting as "),c=_(L,"SPAN",{class:!0});var ae=g(c);y=F(ae,o[1]),ae.forEach(u),L.forEach(u),U.forEach(u),b=I(C),w=_(C,"DIV",{class:!0});var oe=g(w);v=F(oe,z),oe.forEach(u),h=I(C),E=_(C,"DIV",{class:!0});var ie=g(E);V.l(ie),ie.forEach(u),j=I(C),$=_(C,"BUTTON",{class:!0,"data-svelte-h":!0}),N($)!=="svelte-ag2ndw"&&($.textContent=ne),C.forEach(u),this.h()},h(){s(n,"class","relative flex justify-center"),s(a,"class","text-2xl font-bold"),s(c,"class","font-semibold text-brand-green"),s(m,"class","text-gray-600 dark:text-gray-400"),s(t,"class","space-y-2"),s(w,"class","text-lg font-mono bg-gray-100 dark:bg-gray-800 rounded-lg py-2 px-4 inline-block"),s(E,"class","text-sm text-gray-500 dark:text-gray-400"),s($,"class","text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 underline"),s(e,"class","space-y-6")},m(k,C){S(k,e,C),i(e,n),X(r,n,null),i(e,l),i(e,t),i(t,a),i(t,d),i(t,m),i(m,f),i(m,c),i(c,y),i(e,b),i(e,w),i(w,v),i(e,h),i(e,E),V.m(E,null),i(e,j),i(e,$),A=!0,G||(re=Y($,"click",o[4]),G=!0)},p(k,C){(!A||C&2)&&Q(y,k[1]),(!A||C&1)&&z!==(z=de(k[0])+"")&&Q(v,z),O!==(O=se(k))&&(V.d(1),V=O(k),V&&(V.c(),V.m(E,null)))},i(k){A||(M(r.$$.fragment,k),A=!0)},o(k){q(r.$$.fragment,k),A=!1},d(k){k&&u(e),K(r),V.d(),G=!1,re()}}}function Te(o){let e,n,r,l,t,a="No Chips Available",x,d,m="No other users are online right now. Try again later!",f,c,y="Go Back",b,w,z;return r=new ze({props:{size:48,color:"#f59e0b"}}),{c(){e=p("div"),n=p("div"),te(r.$$.fragment),l=D(),t=p("h2"),t.textContent=a,x=D(),d=p("p"),d.textContent=m,f=D(),c=p("button"),c.textContent=y,this.h()},l(v){e=_(v,"DIV",{class:!0});var h=g(e);n=_(h,"DIV",{class:!0});var E=g(n);ee(r.$$.fragment,E),E.forEach(u),l=I(h),t=_(h,"H2",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1fl7u3p"&&(t.textContent=a),x=I(h),d=_(h,"P",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-6t9m0d"&&(d.textContent=m),f=I(h),c=_(h,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-11cdcko"&&(c.textContent=y),h.forEach(u),this.h()},h(){s(n,"class","flex justify-center"),s(t,"class","text-2xl font-bold text-yellow-500"),s(d,"class","text-gray-600 dark:text-gray-400"),s(c,"class","btn-primary"),s(e,"class","space-y-6")},m(v,h){S(v,e,h),i(e,n),X(r,n,null),i(e,l),i(e,t),i(e,x),i(e,d),i(e,f),i(e,c),b=!0,w||(z=Y(c,"click",o[4]),w=!0)},p:H,i(v){b||(M(r.$$.fragment,v),b=!0)},o(v){q(r.$$.fragment,v),b=!1},d(v){v&&u(e),K(r),w=!1,z()}}}function Ne(o){let e,n,r,l,t,a="Connection Failed",x,d,m,f,c,y="Try Again",b,w,z;return r=new $e({props:{size:48,color:"#ef4444"}}),{c(){e=p("div"),n=p("div"),te(r.$$.fragment),l=D(),t=p("h2"),t.textContent=a,x=D(),d=p("p"),m=P(o[2]),f=D(),c=p("button"),c.textContent=y,this.h()},l(v){e=_(v,"DIV",{class:!0});var h=g(e);n=_(h,"DIV",{class:!0});var E=g(n);ee(r.$$.fragment,E),E.forEach(u),l=I(h),t=_(h,"H2",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-966ho8"&&(t.textContent=a),x=I(h),d=_(h,"P",{class:!0});var j=g(d);m=F(j,o[2]),j.forEach(u),f=I(h),c=_(h,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-1g6t6ok"&&(c.textContent=y),h.forEach(u),this.h()},h(){s(n,"class","flex justify-center"),s(t,"class","text-2xl font-bold text-red-500"),s(d,"class","text-gray-600 dark:text-gray-400"),s(c,"class","btn-primary"),s(e,"class","space-y-6")},m(v,h){S(v,e,h),i(e,n),X(r,n,null),i(e,l),i(e,t),i(e,x),i(e,d),i(d,m),i(e,f),i(e,c),b=!0,w||(z=Y(c,"click",o[4]),w=!0)},p(v,h){(!b||h&4)&&Q(m,v[2])},i(v){b||(M(r.$$.fragment,v),b=!0)},o(v){q(r.$$.fragment,v),b=!1},d(v){v&&u(e),K(r),w=!1,z()}}}function je(o){let e;return{c(){e=P("Searching for available partners...")},l(n){e=F(n,"Searching for available partners...")},m(n,r){S(n,e,r)},d(n){n&&u(e)}}}function Ae(o){let e;return{c(){e=P("Connecting to server...")},l(n){e=F(n,"Connecting to server...")},m(n,r){S(n,e,r)},d(n){n&&u(e)}}}function Fe(o){let e,n,r,l,t,a;const x=[Ne,Te,Be],d=[];function m(f,c){return f[2]?0:f[0]>=100?1:2}return l=m(o),t=d[l]=x[l](o),{c(){e=D(),n=p("div"),r=p("div"),t.c(),this.h()},l(f){ve("svelte-mq20h0",fe.head).forEach(u),e=I(f),n=_(f,"DIV",{class:!0});var y=g(n);r=_(y,"DIV",{class:!0});var b=g(r);t.l(b),b.forEach(u),y.forEach(u),this.h()},h(){fe.title="Finding a partner... - RandomChips",s(r,"class","max-w-md w-full text-center space-y-8"),s(n,"class","flex items-center justify-center min-h-[calc(100vh-73px)] p-4")},m(f,c){S(f,e,c),S(f,n,c),i(n,r),d[l].m(r,null),a=!0},p(f,[c]){let y=l;l=m(f),l===y?d[l].p(f,c):(_e(),q(d[y],1,1,()=>{d[y]=null}),he(),t=d[l],t?t.p(f,c):(t=d[l]=x[l](f),t.c()),M(t,1),t.m(r,null))},i(f){a||(M(t),a=!0)},o(f){q(t),a=!1},d(f){f&&(u(e),u(n)),d[l].d()}}}function de(o){const e=Math.floor(o/60),n=o%60;return`${e}:${n.toString().padStart(2,"0")}`}function Pe(o,e,n){let r,l;ce(o,Ee,m=>n(2,r=m)),ce(o,ue,m=>n(3,l=m));let t=0,a,x="";me(()=>{if(typeof window<"u"&&window.location.pathname!=="/"&&!document.referrer.includes(window.location.origin)){W("/");return}ye.set([]),n(1,x=localStorage.getItem("chatName")||"Anonymous"),be(),a=setInterval(()=>{n(0,t++,t),t>=100&&clearInterval(a)},1e3);const m=ue.subscribe(c=>{c&&x&&ke(x)}),f=Ce.subscribe(c=>{c&&(clearInterval(a),W("/chat"))});return()=>{m(),f()}}),ge(()=>{a&&clearInterval(a)});function d(){we(),W("/")}return[t,x,r,l,d]}class Ge extends R{constructor(e){super(),Z(this,e,Pe,Fe,J,{})}}export{Ge as component};
